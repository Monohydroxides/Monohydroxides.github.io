---
tag: 计算机网络
---

<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

## 1.1 计算机网络概述
### 1.1.1 计算机网络的概念
计算机网络没有明确而的定义，可以直接理解为“互联的，自洽的计算机系统的集合”。
在计算机发展的不同阶段，计算机网络主要随着阶段的不同有三类定义：
**广义上**，只要能实现远程信息通信或能进一步达到资源贡献的系统，都属于计算机网络；

**资源共享上**，计算机网络包含三层含义：目的是资源共享，组成单元是分布在不同地理位置的多台独立的“自治计算机”，统一遵循的规则是网络协议。该定义符合目前计算机网络的特征；

**用户透明性上**，计算机网络像一个大的计算机系统一样对用户透明，用户可以像使用一台单一的超级计算机而无需了解网络的存在，资源的位置信息等内容。这是网络未来发展的目标。

### 1.1.2 计算机网络的组成
（1）从组成部分上看，计算机网络主要由**硬件，软件和协议**组成。
硬件：主要有主机（端系统），通信链路（光纤等），交换设备（路由器，交换机），通信处理机（网卡）等组成。
软件：实现资源共享和方便用户使用的各种工具，软件，多属于应用层。
协议：**是计算机网络的核心**，制定了网络传输数据时所需要遵循的规范。

（2）从工作方式上看，计算机网络（这里主要指 Internet）分为边缘部分和核心部分，我们可以简单理解为边缘部分由用户使用的主机组成，用来进行数据通信和资源共享，核心部分为边缘部分提供连通性和交换服务。

（3）从功能组成上看，计算机网络由通信子网和资源子网构成，通信子网由传输介质，通信设备和网络协议构成，它使得网络具有数据传输，交换，控制和存储的能力，实现联网计算机之间的数据通信。资源子网是实现资源共享功能的设备及其软件的集合，向网络用户提供共享其他计算机上的硬件资源，软件资源和数据资源的服务。

### 1.1.3 计算机网络的功能
计算机网络主要有五大功能：数据通信，资源共享，分布式处理，可靠性提高和负载均衡。

### 1.1.4 计算机网络的分类
（1）从分布范围上看，分为广域网（WAN，也叫远程网），城域网（MAN），局域网（LAN），个人区域网（PAN）。
如果中央处理器的距离非常近，一般称为多处理器系统而不是计算机网络。
传统上，局域网使用广播技术，广域网使用交换技术。

（2）从传输技术分类，分为广播式网络和点对点网络。
顾名思义，广播式网络上，所有联网计算机都会共享同一个公共通信信道。**局域网基本上都采用广播式通信技术，广域网中的无线，卫星通信网络也采用广播式通信技术**。
点对点网络上，每条物理线路连接一对计算机，如果通信的两台主机之间没有之间相连，则分组传输就要通过中间节点进行接收，存储和转发。

（3）按拓扑结构（主要指网中节点（路由器，主机等）与通信线路（网线）之间的几何关系，即通信子网的拓扑结构）分类，主要有总线形（建网容易，节省线路，通信效率低，对任意一处故障敏感），星形（每个终端单独与中央设备相连，便于集中控制和管理，成本高，中央设备对故障敏感），环形（环中信号是单向传输的）和网状（多用在广域网中，可靠性高，控制复杂，线路成本高）。

（4）按使用者分类，分为公有网和专有网，这个比较容易理解。

（5）按交换技术分类，分为电路交换（数据直接传送，时延低，线路利用率低，不利于进行差错控制），报文交换（也称存储-转发网络，实现了不同链路之间的不同数据传输速率的转换，实现格式转换，一对多，多对一的 访问，实现了差错控制，增大了资源开销，增加了缓冲时延，缓冲区难以管理），分组交换（经典套娃，结合优点，更易于标准化，现在的主流网络基本上都可视为分组交换网络）。

### 1.1.5 计算机网络的标准化
从 Request For Comments 到 Internet Draft 到 Proposed Standard 到 Draft Standard 最后成为 Internet Standard，主要由 ISO，ITU，IEEE 等组织负责。

### 1.1.6 计算机网络的性能指标
（1）带宽，计算机网络中为数字信道能传送的最高数据传输速率，单位为比特每秒。

（2）时延，数据（一个报文或分组）从网络的一端传送到另一端需要的总时间，分为发送时延，传播时延，处理时延和排队时延。
发送时延：从发送的第一个比特算起，到该分组的最后一个比特发送完毕花的时间。发送时延 = 分组长度 / 信道宽度。
传播时延：一个比特从链路的一段传播的另一端所需要的时间。传播时延 = 信道长度 / 电磁波在信道上的传播速率。
处理时延：数据在交换节点为存储转发而进行的一些必要的处理所花费的时间。排队时延：在输入、输出队列中等待处理、转发的时间。
总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延。

需要注意的是，当我们说高速链路时，往往指的是提高了数据的发送速率，减少发送时延，而不能改变传播时延，传播时延是由信号的物理性质决定的。

（3）时延带宽积（以比特为单位的链路长度），从物理意义的角度上，为发送端发送的第一个比特到达终点时，发送端已经发送了多少个比特。时延带宽积 =  传播时延 * 信道带宽。
以时间的角度考虑，时延带宽积也可被视为数据在传输时，管道上最多可以容纳的比特数。

（4）往返时延，从发送端发出一个短分组到发送端收到来自接收端的确认经历的时延。

（5）吞吐量，单位时间内通过某个网络的数据量，主要受网络带宽的限制。

（6）速率，连接到计算机网络上的主机在数字信道上的传输数据的速率，直观的理解是我们上网时的网速，kb/s，Mb/s 等。

（7）信道利用率，信道被使用的时间占总时间的百分比。


## 1.2 计算机网络体系结构和参考模型
### 1.2.1 计算机网络分层结构
分层结构的服务规则
计算机网络的分层结构中，第 n 层的活动元素称为第 n 层实体，第 n 层实体实现的服务为第 n + 1 层所利用，第 n 层成为服务提供者，第 n + 1 层服务于用户。

数据传输的报文结构
在各个层次中，每个报文都分为两部分：服务数据单元（SDU）和控制信息部分（PCI），他们共同组成协议数据单元（PDU），第 n 层的协议数据单元称为 n-PDU，实际的网络中，每层的 PDU 有不同的名字，物理层称之为比特，数据链路层称之为帧，网络层称之为分组，传输层称之为报文段。
第 n 层的实体不仅要使用第 n - 1 层的服务来实现自身定义的功能，还要向第 n + 1 层提供本层的服务，该服务是第 n 层及其下面各层提供的服务总和。
最低层只提供服务，最高层面向用户提供服务，中间各层既是下层服务的使用者，又是上层服务的提供者。
上层只能通过相邻层间接口使用下层的服务，而不能调用其他层的服务；下层所提供服务的实现细节对上层透明。
两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就能把信息传送到对方。

### 1.2.2 计算机网络的协议，接口和服务
协议：网络中事先规定的，为数据交换确立的规则。**协议只在对等层实体之间存在**。
协议由语法，语义和同步三部分组成，语法规定了传输数据的格式，语义决定了要完成的功能，同步规定了事件实现顺序的说明。

接口：同一节点内相邻两层间交换信息的连接点。同一节点相邻两层的实体通过服务访问点（SAP）进行交互。

服务：下层为紧邻的上层提供的功能调用。服务是垂直的，协议是水平的。
服务的三种分类方式：

（1）面向连接和无连接服务：面向连接的服务中，通信双方必须先建立连接，分配相应资源，结束后释放资源，分为连接建立，数据传输和连接释放三个阶段，典型例子如 TCP；无连接服务需要发送数据时可以直接发送，但不保证可靠性，如 IP，UDP。

（2）可靠服务和不可靠服务：可靠指服务的纠错，检错，应答等机制从而使得数据能够正确可靠的送到目的地；不可靠服务尽最大可能保证正确性，可靠性等。

（3）有应答和无应答服务：有应答服务为接收方在收到数据后向发送方给出的由传输系统内部自动实现的应答；无应答服务则是接收方收到数据后不自动给出应答。

### 1.2.3 ISO/OSI 参考模型简述
开放系统互连参考模型（OSI/RM）有七层，从下至上分别为物理层，数据链路层，网络层，传输层，会话层，表示层，应用层。前三层称为通信子网，后三层称为资源子网。

物理层的传输单位是比特，任务是透明的传输比特流，功能是在物理媒体上为数据段设备透明地传输原始比特流。物理层规定了通信节点之间电路接口的规格，通信链路上传输的信号的意义和电器特征。

数据链路层的传输单位是帧，任务是将网络层传来的 IP 数据报组装成帧。数据链路层的功能为**封装成帧，差错控制，流量控制和传输管理**。

网络层的传输单位是数据报，关心通信子网的运行控制，主要任务为把网络层的协议数据单元从源端传送到目的端，为分组交换网上的不同主机提供通信服务。网络层的关键问题是对分组进行路由控制，并实现流量控制，拥塞控制，差错控制和网际互连等功能。

传输层的传输单位是报文段（TCP）或用户数据报（UDP），负责主机中两个进程之间的通信，功能是为端到端连接提供可靠的传输服务，为端到端连接提供流量控制，差错控制，服务质量数据传输管理等服务。

会话层允许不同主机上的各个进程之间进行会话，会话层利用传输层提供的端到端的服务，向表示层提供它的增值服务。

表示层主要处理在两个通信系统中交换信息的表示方式。数据压缩，加密和解密也是表示层能提供的数据表示变换功能。

应用层是 OSI 参考模型的最高层，为特定类型的网络应用提供访问 OSI 参考模型环境的手段。

### 1.2.4 TCP/IP 模型简述
TCP/IP 模型从低到高依次为网络接口层，网际层，传输层和应用层。网络接口层类似于 OSI 模型的物理层和数据链路层；网际层类似于 OSI 参考模型中的网络层；传输层的功能和 OSI 参考模型中的传输层类似；应用层包含所有的高层协议。
